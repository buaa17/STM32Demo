
#include "delay.h"

#define AHB_INPUT  72  //??RCC????AHB?????????(??MHz)


void delay_us(u32 uS){ //uS???????(????????,72MHz????233015)	
	SysTick->LOAD=AHB_INPUT*uS;      //??????(????72MHz,72??1??)
	SysTick->VAL=0x00;        //?????????
	SysTick->CTRL=0x00000005;//???HCLK,?????
	while(!(SysTick->CTRL&0x00010000)); //?????0
	SysTick->CTRL=0x00000004;//?????
}

void delay_ms(u16 ms){ //mS???????(????????,???65535)	 		  	  
	while( ms-- != 0){
		delay_us(1000);	//??1000?????
	}
}
 
void delay_s(u16 s){ //S??????(????????,???65535)	 		  	  
	while( s-- != 0){
		delay_ms(1000);	//??1000?????
	}
} 



























